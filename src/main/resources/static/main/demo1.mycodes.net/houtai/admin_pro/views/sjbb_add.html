<!DOCTYPE html>
<html lang="zh-CN">

<!-- Mirrored from demo1.mycodes.net/houtai/admin_pro/views/users.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2019 13:28:51 GMT -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../assets/css/layui.css">
    <link rel="stylesheet" href="../assets/css/view.css"/>
    <link rel="icon" href="http://demo1.mycodes.net/favicon.ico">
    <title>Portal</title>
    <script src='../../../../../jquery/jquery-2.1.4.min.js'></script>
</head>
<body class="layui-view-body">
    <div class="layui-content">
        <div class="layui-row">
            <div class="layui-card">
                <div class="layui-card-body">
                    <div class="form-box">
                        <div class="layui-form layui-form-item">
                            <div class="layui-inline">
                                <div class="layui-form-mid">Customer Code:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="customerCode">
                                </div>

                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Customer Name:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="customerName">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Product line:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;" >
                                    <select name="sex" id="productLine">
                                        <option value="LED">LED</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Region:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="region">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tax File Number:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="taxCode">
                                </div>
                                <div class="layui-form-mid">Parent Cunstomer Name:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <select id="parentCustomer">
                                        <option value="1">Parent Cunstomer</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-row">
            <div class="layui-col-sm12 layui-col-md12">
                <div class="layui-card">
                    <div class="layui-tab layui-tab-brief">
                        <ul class="layui-tab-title">
                            <li class="layui-this">Address</li>
                            <li>Contact Person</li>
                            <li>Project</li>
                        </ul>
                        <div class="layui-tab-content">
                            <div class="layui-tab-item layui-show">
                                <table id="address-table"></table>
                                <form id="addressForm" class="layui-form layui-card-body" action="" style="display: none;">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">Province</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="title" required="" lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">City</label>
                                        <div class="layui-input-block">
                                            <input type="text" name="title" required="" lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">Detailed address</label>
                                        <div class="layui-input-block">

                                            <input type="text" name="title" required="" lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <div class="layui-input-block">
                                             <input type="checkbox" name="" title="Is Default" lay-skin="primary" checked="">
                                        </div>
                                    </div>
                                    <div class="layui-form-item layui-form-text">
                                        <label class="layui-form-label">Remark</label>
                                        <div class="layui-input-block">
                                            <textarea name="desc" placeholder="" class="layui-textarea"></textarea>
                                        </div>
                                    </div>
                                    <div class="layui-form-item">
                                        <div class="layui-input-block">
                                            <button class="layui-btn layui-btn-blue" lay-submit="" lay-filter="formDemo">Submit</button>
                                            <button type="reset" class="layui-btn layui-btn-primary">Reset</button>
                                        </div>
                                    </div>
                                </form>
                                <button class="layui-btn layui-btn-blue" onclick="addressAdd()"><i class="layui-icon">&#xe654;</i>ADD</button>
                                <table id="addressTable"></table>
                            </div>
                            <div class="layui-tab-item">
                                <button class="layui-btn layui-btn-blue" onclick="personAdd()"><i class="layui-icon">&#xe654;</i>ADD</button>
                                <table id="personTable"></table>
                            </div>
                            <div class="layui-tab-item">
                                <button class="layui-btn layui-btn-blue" onclick="projectAdd()"><i class="layui-icon">&#xe654;</i>ADD</button>
                                <table id="projectTable"></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-row" style="text-align:center;">
            <br/>
            <button class="layui-btn layui-btn-blue" lay-submit="" lay-filter="formDemo" onclick="save()">Save</button>
        </div>
    </div>
    <script src="../assets/layui.all.js"></script>
    <script>
      var element = layui.element;
  var table = layui.table;
  var form = layui.form;
  
  //地址
  table.render({
    elem: '#addressTable'
    ,cols: [[ //标题栏
      {field: 'id', title: 'ID', minWidth: 80, sort: true}
      ,{field: 'c1', title: 'Product line', minWidth: 80, edit: 'text'}
      ,{field: 'province', title: 'Province', minWidth: 80, edit: 'text'}
      ,{field: 'city', title: 'City', minWidth: 80, edit: 'text'}
      ,{field: 'address', title: 'Address', minWidth: 80, edit: 'text'}
      ,{field: 'isDefault', title: 'is Default', minWidth: 80, edit: 'text'}
      ,{field: 'remark', title: 'Remark', minWidth: 80, edit: 'text'}
      ,{field: 'c8', title: 'Operate', minWidth: 80}
    ]]
    ,data: []
    ,skin: 'line' //表格风格
    ,even: true
    ,page: false //是否显示分页
    ,limits: [5, 7, 10]
    ,limit: 5 //每页默认显示的数量
  });

  //联系人
      table.render({
          elem: '#personTable'
          ,cols: [[ //标题栏
              {field: 'id', title: 'ID', minWidth: 80, sort: true}
              ,{field: 'c1', title: 'Product line', minWidth: 80, edit: 'text'}
              ,{field: 'position', title: 'Position', minWidth: 80, edit: 'text'}
              ,{field: 'realName', title: 'Name', minWidth: 80, edit: 'text'}
              ,{field: 'mobile', title: 'Mobile', minWidth: 80, edit: 'text'}
              ,{field: 'phone', title: 'Phone', minWidth: 80, edit: 'text'}
              ,{field: 'emial', title: 'Email', minWidth: 80, edit: 'text'}
              ,{field: 'eventMobile', title: 'Phone #', minWidth: 80, edit: 'text'}
              ,{field: 'remark', title: 'Remark', minWidth: 80, edit: 'text'}
              ,{field: 'c9', title: 'Operate', minWidth: 80}
          ]]
          ,data: []
          ,skin: 'line' //表格风格
          ,even: true
          ,page: false //是否显示分页
          ,limits: [5, 7, 10]
          ,limit: 5 //每页默认显示的数量
      });


      table.render({
          elem: '#projectTable'
          ,cols: [[ //标题栏
              {field: 'id', title: 'ID', minWidth: 80, sort: true}
              ,{field: 'c1', title: 'Product line', minWidth: 80, edit: 'text'}
              ,{field: 'projectName', title: 'Project Name', minWidth: 80, edit: 'text'}
              ,{field: 'materialName', title: 'Material Name', minWidth: 80, edit: 'text'}
              ,{field: 'competitor', title: 'Competitor', minWidth: 80, edit: 'text'}
              ,{field: 'competitorMaterialName', title: 'Competitor Material Name', minWidth: 80, edit: 'text'}
              ,{field: 'expectedVolume', title: 'Expected volume', minWidth: 80, edit: 'text'}
              ,{field: 'estimatedProductionTime', title: 'Estimated production time', minWidth: 80, edit: 'text'}
              ,{field: 'c9', title: 'Operate', minWidth: 80}
          ]]
          ,data: []
          ,skin: 'line' //表格风格
          ,even: true
          ,page: false //是否显示分页
          ,limits: [5, 7, 10]
          ,limit: 5 //每页默认显示的数量
      });


      function addressAdd(){
          //地址
          table.render({
              elem: '#addressTable'
              ,cols: [[ //标题栏
                  {field: 'id', title: 'ID', minWidth: 80, sort: true}
                  ,{field: 'c1', title: 'Product line', minWidth: 80, edit: 'text'}
                  ,{field: 'province', title: 'Province', minWidth: 80, edit: 'text'}
                  ,{field: 'city', title: 'City', minWidth: 80, edit: 'text'}
                  ,{field: 'address', title: 'Detailed address', minWidth: 80, edit: 'text'}
                  ,{field: 'isDefault', title: 'Is Default', minWidth: 80, edit: 'text'}
                  ,{field: 'remark', title: 'Remark', minWidth: 80, edit: 'text'}
                  ,{field: 'c8', title: 'Operate', minWidth: 80}
              ]]
              ,data: [{
                  "id": ""
                  ,"c1": "LED"
                  ,"c2": ""
                  ,"c3": ""
                  ,"c4": ""
                  ,"isDefault": "0"
                  ,"c6": ""
                  ,"c7": ""
                  ,"c8": ""
              }]
              ,skin: 'line' //表格风格
              ,even: true
              ,page: false //是否显示分页
              ,limits: [5, 7, 10]
              ,limit: 5 //每页默认显示的数量
          });
      }
      function personAdd(){
          //联系人
          table.render({
              elem: '#personTable'
              ,cols: [[ //标题栏
                  {field: 'id', title: 'ID', minWidth: 80, sort: true}
                  ,{field: 'c1', title: 'Product line', minWidth: 80, edit: 'text'}
                  ,{field: 'position', title: 'Position', minWidth: 80, edit: 'text'}
                  ,{field: 'realName', title: 'Name', minWidth: 80, edit: 'text'}
                  ,{field: 'mobile', title: 'Mobile', minWidth: 80, edit: 'text'}
                  ,{field: 'phone', title: 'Fixed telephone', minWidth: 80, edit: 'text'}
                  ,{field: 'emial', title: 'Email', minWidth: 80, edit: 'text'}
                  ,{field: 'eventMobile', title: 'Phone #', minWidth: 80, edit: 'text'}
                  ,{field: 'remark', title: 'Remark', minWidth: 80, edit: 'text'}
                  ,{field: 'c9', title: 'Operate', minWidth: 80}
              ]]
              ,data: [{
                  "id": ""
                  ,"c1": "LED"
                  ,"c2": ""
                  ,"c3": ""
                  ,"c4": ""
                  ,"c5": ""
                  ,"c6": ""
                  ,"c7": ""
                  ,"c8": ""
                  ,"c9": ""
              }]
              ,skin: 'line' //表格风格
              ,even: true
              ,page: false //是否显示分页
              ,limits: [5, 7, 10]
              ,limit: 5 //每页默认显示的数量
          });
      }
      function projectAdd(){
          table.render({
              elem: '#projectTable'
              ,cols: [[ //标题栏
                  {field: 'id', title: 'ID', minWidth: 80, sort: true}
                  ,{field: 'c1', title: 'Product line', minWidth: 80, edit: 'text'}
                  ,{field: 'projectName', title: 'Project Name', minWidth: 80, edit: 'text'}
                  ,{field: 'materialName', title: 'Material Name', minWidth: 80, edit: 'text'}
                  ,{field: 'competitor', title: 'Competitor', minWidth: 80, edit: 'text'}
                  ,{field: 'competitorMaterialName', title: 'Competitor Material Name', minWidth: 80, edit: 'text'}
                  ,{field: 'expectedVolume', title: 'Expected volume', minWidth: 80, edit: 'text'}
                  ,{field: 'estimatedProductionTime', title: 'Estimated production time', minWidth: 80, edit: 'text'}
                  ,{field: 'c9', title: 'Operate', minWidth: 80}
              ]]
              ,data: [{
                  "id": ""
                  ,"c1": "LED"
                  ,"c2": ""
                  ,"c3": ""
                  ,"c4": ""
                  ,"c5": ""
                  ,"c6": ""
                  ,"c7": ""
                  ,"c8": ""
                  ,"c9": ""
              }]
              ,skin: 'line' //表格风格
              ,even: true
              ,page: false //是否显示分页
              ,limits: [5, 7, 10]
              ,limit: 5 //每页默认显示的数量
          });
      }

      function save(){
          var customerInfo = {
              customerCode: $("#customerCode").val(),
              customerName: $("#customerName").val(),
              productLine: $("#productLine").val(),
              region: $("#region").val(),
              taxCode: $("#taxCode").val(),
              parentCustomer: $("#parentCustomer").val()
          };
          debugger;
          var addresses = layui.table.cache.addressTable;
          var customerContacts = layui.table.cache.personTable;
          var projectTable = layui.table.cache.projectTable;
          var data = new Object();
          data['customerInfo'] = customerInfo;
          data['addresses'] = addresses;
          data['customerContacts'] = customerContacts;
          data['customerProjects'] = projectTable;
          console.log(JSON.stringify(data));
          $.ajax({
              type: "POST",
              url: "/portal/customer/create",
              contentType: "application/json; charset=utf-8",
              data: JSON.stringify(data),
              dataType: "json",
              success: function (result) {
                  if(result){
                        alert("Success");
                  }
              },
              error: function (message) {

              }
          });
      }
    </script>
<script type="text/javascript"  src="../../../../idm-su.baidu.com/su.js"></script>
</body>

<!-- Mirrored from demo1.mycodes.net/houtai/admin_pro/views/users.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2019 13:28:51 GMT -->
</html>