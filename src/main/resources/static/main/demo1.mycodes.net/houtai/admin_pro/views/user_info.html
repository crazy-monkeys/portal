<!DOCTYPE html>
<html lang="zh-CN">

<!-- Mirrored from demo1.mycodes.net/houtai/admin_pro/views/users.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2019 13:28:51 GMT -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../assets/css/layui.css">
    <link rel="stylesheet" href="../assets/css/view.css"/>
    <link rel="icon" href="http://demo1.mycodes.net/favicon.ico">
    <title>Portal</title>
    <script src='../../../../../jquery/jquery-2.1.4.min.js'></script>
</head>
<body class="layui-view-body">
    <div class="layui-content">
        <div class="layui-row">
            <div class="layui-card">
                <div class="layui-card-body">
                    <div class="form-box">
                        <div class="layui-form layui-form-item">
                            <div class="layui-inline">
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Company Name:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="companyName">
                                </div>

                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Country/Region:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="region">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;City:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;" >
                                    <input type="text" autocomplete="off" class="layui-input" id="city">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid">Parent Company Name:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="parentCompanyName">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Province/State:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="province">
                                </div>
                                <div class="layui-form-mid">District/County:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <select id="parentCustomer">
                                        <option value="1">district</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid">Business License Address:</div>
                                <div class="layui-input-inline" style="width: 750px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="businessLicenseAddress">
                                </div>
                        </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid">Corporate legal person:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="corporateLegalPerson">
                                </div>
                                <div class="layui-form-mid">Telephone Required:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="fixedLineTelephone">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;Business Email:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="businessEmailAddress">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tax code:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="taxCode">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Postal Code:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="postalCode">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;Business Term:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="businessTerm">
                                </div>
                            </div>

                            <div class="layui-inline">
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registered funds :</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="registeredFunds">
                                </div>
                                <div class="layui-form-mid">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Currency:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="currency">
                                </div>
                                <div class="layui-form-mid">Company Website:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="companyWebsite">
                                </div>
                            </div>

                            <div class="layui-inline">
                                <div class="layui-form-mid">Company Established Time:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="companyEstablishedTime">
                                </div>
                                <div class="layui-form-mid">Business registration number:</div>
                                <div class="layui-input-inline" style="width: 150px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="businessRegistrationNumber">
                                </div>
                            </div>

                            <div class="layui-inline">
                                <div class="layui-form-mid">Company Introduction:</div>
                                <div class="layui-input-inline" style="width: 750px;margin-right: 30px;">
                                    <input type="text" autocomplete="off" class="layui-input" id="companyIntroduction">
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-row">
            <div class="layui-col-sm12 layui-col-md12">
                <div class="layui-card">
                    <div class="layui-tab layui-tab-brief">
                        <ul class="layui-tab-title">
                            <li class="layui-this">Fill In Contact Information</li>
                            <li>Solution Qualification Information</li>
                        </ul>
                        <div class="layui-tab-content">
                            <div class="layui-tab-item layui-show">
                                <table id="addressTable"></table>
                            </div>
                            <div class="layui-tab-item">
                                <table id="personTable"></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            <div style="width: 100%;text-align: center;">
                <button class="layui-btn layui-btn-blue" onclick="sp_success()">Application Pass</button>
                <a href="../views/users.html"><button class="layui-btn layui-btn-primary" >Close</button></a>
            </div>
    </div>
    <script src="../assets/layui.all.js"></script>
    <script type="text/javascript">
        var basePath = '${request.contextPath}';
    </script>
    <script>
      var element = layui.element;
      var table = layui.table;
      var form = layui.form;

      var p0;
      //地址
      window.onload = function() {
          var url = location.search; //获取url中"?"符后的字串
          var theRequest = new Object();
          if (url.indexOf("?") != -1) {
              var str = url.substr(1);
              strs = str.split("&");
              for (var i = 0; i < strs.length; i++) {
                  theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
              }
          }
          var userId = theRequest['userId'];
          this.p0 = userId;
          console.log(userId);
          load(userId);
      }

      function load(userId) {
          $.get("/portal/company/getUserCompany?userId="+userId, function (result) {
              console.log(result);
              $("#companyName").val(result.companyName);
              $("#region").val(result.region);
              $("#city").val(result.city);
              $("#parentCompanyName").val(result.parentCompanyName);
              $("#province").val(result.province);
              $("#district").val(result.district);
              $("#businessLicenseAddress").val(result.businessLicenseAddress);
              $("#corporateLegalPerson").val(result.corporateLegalPerson);
              $("#fixedLineTelephone").val(result.fixedLineTelephone);
              $("#businessEmailAddress").val(result.businessEmailAddress);
              $("#taxCode").val(result.taxCode);
              $("#postalCode").val(result.postalCode);
              $("#businessTerm").val(result.businessTerm);
              $("#registeredFunds").val(result.registeredFunds);
              $("#currency").val(result.currency);
              $("#companyWebsite").val(result.companyWebsite);
              $("#companyEstablishedTime").val(result.companyEstablishedTime);
              $("#businessRegistrationNumber").val(result.businessRegistrationNumber);
              $("#companyIntroduction").val(result.companyIntroduction);
              loadTable(result);
          });
      }

      function loadTable(data) {
          //地址
          table.render({
              elem: '#addressTable'
              ,cols: [[ //标题栏
                  {field: 'id', title: 'ID', minWidth: 80, sort: true}
                  ,{field: 'lastName', title: 'Last Name', minWidth: 80, sort: true}
                  ,{field: 'firstName', title: 'First Name', minWidth: 80, edit: 'text'}
                  ,{field: 'jobTitle', title: 'Job Title', minWidth: 80, edit: 'text'}
                  ,{field: 'officePhone', title: 'Office Phone', minWidth: 80, edit: 'text'}
                  ,{field: 'postalCode', title: 'Postal Code', minWidth: 80, edit: 'text'}
                  ,{field: 'workEmail', title: 'Work Email', minWidth: 80, edit: 'text'}
              ]]
              ,data: data.information
              ,skin: 'line' //表格风格
              ,even: true
              ,page: false //是否显示分页
              ,limits: [5, 7, 10]
              ,limit: 5 //每页默认显示的数量
          });

          //联系人
          table.render({
              elem: '#personTable'
              ,cols: [[ //标题栏
                  {field: 'oneIndustry', title: 'TOP1 Industry', minWidth: 80, sort: true}
                  ,{field: 'twoIndustry', title: 'TOP2 Industry', minWidth: 80, edit: 'text'}
                  ,{field: 'recommendedUser', title: 'Recommended General Distributor', minWidth: 80, edit: 'text'}
              ]]
              ,data: data.solution
              ,skin: 'line' //表格风格
              ,even: true
              ,page: false //是否显示分页
              ,limits: [5, 7, 10]
              ,limit: 5 //每页默认显示的数量
          });
      }
      function sp_success(){
          $.post(
              "/portal/user/approval",
              {id:p0,status:1},
              function(result){
                  alert("Success");
                  window.location.href="../views/users.html";
              }
          );
      }

    </script>
<script type="text/javascript"  src="../../../../idm-su.baidu.com/su.js"></script>
</body>

<!-- Mirrored from demo1.mycodes.net/houtai/admin_pro/views/users.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2019 13:28:51 GMT -->
</html>